{% extends 'base.html' %}

{% block content %}
<h2>Chat with {{ matched_user.display_name }}</h2>
<p>Welcome to the chat room, {{ current_user.display_name }}!</p>

<div id="chat-box" style="border: 1px solid #ccc; padding: 10px; height: 300px; overflow-y: scroll; background: #f9f9f9;">
    {% for message in messages %}
        <div style="margin-bottom: 10px; padding: 5px; background-color: {% if message.sender_id == current_user.id %}#e0ffe0{% else %}#ffffff{% endif %}; border-radius: 5px;">
            <strong>{{ 'You' if message.sender_id == current_user.id else matched_user.display_name }}:</strong>
            <p style="margin: 5px 0;">{{ message.content }}</p>
            <small style="color: gray;">{{ message.timestamp.strftime('%Y-%m-%d %H:%M') }}</small>
        </div>
    {% endfor %}
</div>

<form method="post" action="{{ url_for('routes.chat', matched_user_id=some_user_id) }}" style="margin-top: 20px;">
    <input type="text" name="message" placeholder="Type your message..." required style="width: 70%; padding: 8px;">
    <button type="submit" style="padding: 8px 12px;">Send</button>
</form>
{% endblock %}
